<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - LifeStream</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <header>
        <a href="index.html" class="logo">
            <i class="fas fa-tint"></i>
            <h1>LifeStream Admin</h1>
        </a>
        
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="#dashboard" class="admin-nav active" data-section="dashboard">Dashboard</a></li>
                <li><a href="#donors" class="admin-nav" data-section="donors">Donors</a></li>
                <li><a href="#requests" class="admin-nav" data-section="requests">Requests</a></li>
                <li><a href="#stock" class="admin-nav" data-section="stock">Stock</a></li>
            </ul>
        </nav>
        <div class="auth-buttons">
            <span id="admin-welcome">Welcome, Admin</span>
            <button onclick="logout()" class="btn btn-secondary">Logout</button>
        </div>
    </header>

    <main>
        <!-- Admin Dashboard -->
        <section id="dashboard-section" class="admin-section active">
            <div class="admin-header">
                <h2>Admin Dashboard</h2>
                <p>Manage blood bank operations and monitor system activity</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="total-donors-count">0</h3>
                        <p>Total Donors</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-hand-holding-medical"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="pending-requests-count">0</h3>
                        <p>Pending Requests</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="completed-requests-count">0</h3>
                        <p>Completed Requests</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-tint"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="total-blood-units">0</h3>
                        <p>Blood Units Available</p>
                    </div>
                </div>
            </div>

            <div class="dashboard-content">
                <div class="dashboard-column">
                    <div class="card">
                        <div class="card-header">
                            <h3>Recent Blood Requests</h3>
                            <a href="#requests" class="admin-nav btn btn-sm btn-primary" data-section="requests">View All</a>
                        </div>
                        <div class="card-body">
                            <div id="recent-requests" class="requests-list">
                                <!-- Recent requests will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="dashboard-column">
                    <div class="card">
                        <div class="card-header">
                            <h3>Blood Stock Overview</h3>
                            <a href="#stock" class="admin-nav btn btn-sm btn-primary" data-section="stock">Manage</a>
                        </div>
                        <div class="card-body">
                            <div id="stock-overview" class="stock-overview">
                                <!-- Stock overview will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="quick-actions">
                <h3>Quick Actions</h3>
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="exportDonors()">
                        <i class="fas fa-download"></i>
                        Export Donors
                    </button>
                    <button class="btn btn-secondary" onclick="sendBulkNotifications()">
                        <i class="fas fa-bell"></i>
                        Send Notifications
                    </button>
                    <button class="btn btn-admin" onclick="generateReport()">
                        <i class="fas fa-chart-bar"></i>
                        Generate Report
                    </button>
                </div>
            </div>
        </section>

        <!-- Donors Management -->
        <section id="donors-section" class="admin-section">
            <div class="admin-header">
                <h2>Donors Management</h2>
                <p>Manage registered blood donors and their information</p>
            </div>

            <div class="table-controls">
                <div class="search-box">
                    <input type="text" id="donor-search" placeholder="Search donors..." class="form-control">
                    <i class="fas fa-search"></i>
                </div>
                <button class="btn btn-primary" onclick="refreshDonors()">
                    <i class="fas fa-sync-alt"></i>
                    Refresh
                </button>
            </div>

            <div class="table-container">
                <table id="donors-table" class="data-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Blood Group</th>
                            <th>Age</th>
                            <th>Gender</th>
                            <th>City</th>
                            <th>Mobile</th>
                            <th>Email</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="donors-tbody">
                        <!-- Donors data will be loaded here -->
                    </tbody>
                </table>
            </div>

            <div class="table-footer">
                <div class="pagination">
                    <button class="btn btn-sm" id="prev-page">Previous</button>
                    <span id="page-info">Page 1 of 1</span>
                    <button class="btn btn-sm" id="next-page">Next</button>
                </div>
            </div>
        </section>

        <!-- Blood Requests Management -->
        <section id="requests-section" class="admin-section">
            <div class="admin-header">
                <h2>Blood Requests Management</h2>
                <p>Review and manage blood requests from patients</p>
            </div>

            <div class="filters">
                <select id="status-filter" class="form-control">
                    <option value="">All Status</option>
                    <option value="Pending">Pending</option>
                    <option value="Approved">Approved</option>
                    <option value="Completed">Completed</option>
                    <option value="Rejected">Rejected</option>
                </select>
                <select id="urgency-filter" class="form-control">
                    <option value="">All Urgency</option>
                    <option value="Normal">Normal</option>
                    <option value="Urgent">Urgent</option>
                    <option value="Critical">Critical</option>
                    <option value="Emergency">Emergency</option>
                </select>
            </div>

            <div class="table-container">
                <table id="requests-table" class="data-table">
                    <thead>
                        <tr>
                            <th>Patient Name</th>
                            <th>Blood Group</th>
                            <th>Units</th>
                            <th>Hospital</th>
                            <th>City</th>
                            <th>Urgency</th>
                            <th>Status</th>
                            <th>Date</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="requests-tbody">
                        <!-- Requests data will be loaded here -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Blood Stock Management -->
        <section id="stock-section" class="admin-section">
            <div class="admin-header">
                <h2>Blood Stock Management</h2>
                <p>Monitor and manage blood inventory across all blood groups</p>
            </div>

            <div class="stock-management">
                <div class="stock-cards">
                    <!-- Stock cards will be loaded here -->
                </div>
                
                <div class="stock-actions">
                    <h3>Stock Management</h3>
                    <div class="action-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="update-blood-group">Blood Group</label>
                                <select id="update-blood-group" class="form-control">
                                    <option value="">Select Blood Group</option>
                                    <option value="A+">A+</option>
                                    <option value="A-">A-</option>
                                    <option value="B+">B+</option>
                                    <option value="B-">B-</option>
                                    <option value="O+">O+</option>
                                    <option value="O-">O-</option>
                                    <option value="AB+">AB+</option>
                                    <option value="AB-">AB-</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="update-action">Action</label>
                                <select id="update-action" class="form-control">
                                    <option value="add">Add Units</option>
                                    <option value="remove">Remove Units</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="update-units">Units</label>
                                <input type="number" id="update-units" class="form-control" min="1" value="1">
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="updateStock()">Update Stock</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal for Request Details -->
    <div id="request-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Request Details</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div id="request-details">
                    <!-- Request details will be loaded here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal()">Close</button>
                <button class="btn btn-primary" id="approve-btn">Approve</button>
                <button class="btn btn-danger" id="reject-btn">Reject</button>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-column">
                <h3>LifeStream Admin</h3>
                <p>Blood Bank Management System Administration Panel</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://x.com/AmanKumar41235?t=hf9WL_MpPzDalhpzqZTFPA&s=09"><i class="fab fa-twitter"></i></a>
                    <a href="https://www.instagram.com/mr_aman421?igsh=MW93NnZ4MWFsaWtvaw=="><i class="fab fa-instagram"></i></a>
                    <a href="https://www.linkedin.com/in/aman-kumar-216bbb255?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
            <div class="footer-column">
                <h3>Admin Links</h3>
                <ul class="footer-links">
                    <li><a href="#dashboard" class="admin-nav" data-section="dashboard">Dashboard</a></li>
                    <li><a href="#donors" class="admin-nav" data-section="donors">Donors</a></li>
                    <li><a href="#requests" class="admin-nav" data-section="requests">Requests</a></li>
                    <li><a href="#stock" class="admin-nav" data-section="stock">Stock</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>System</h3>
                <ul class="footer-links">
                    <li><a href="#">Audit Log</a></li>
                    <li><a href="#">Backup</a></li>
                    <li><a href="#">Settings</a></li>
                    <li><a href="#">Help</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Contact</h3>
                <ul class="footer-links">
                    <li><i class="fas fa-map-marker-alt"></i> 123 Blood Bank Road, Gaya, Bihar</li>
                    <li><i class="fas fa-phone-alt"></i> +91 9998887776</li>
                    <li><i class="fas fa-envelope"></i> admin@lifestream.org</li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 LifeStream Blood Bank Management System. Admin Panel v1.0</p>
        </div>
    </footer>

    <script src="js/index.js"></script>
    <script src="js/admin.js"></script>
</body>
</html>